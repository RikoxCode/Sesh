#!/usr/bin/env sh
set -e

echo "[pre-commit] lint-staged"
npm run lint-staged

echo "[pre-push] backend tests"
[ -f apps/backend/package.json ] && npm --workspace apps/backend run test || echo "skip backend"

echo "[pre-push] frontend build"
[ -f apps/frontend/package.json ] && npm --workspace apps/frontend run build || echo "skip frontend"
